{% extends 'core/base.html' %}

{% block content %}
<h1 class="h3 mb-3">Listado de Alumnos</h1>

<!-- Cuadro de búsqueda -->
<form method="get" class="mb-3">
  <input type="text" name="q" value="{{ busqueda }}" class="form-control" placeholder="Buscar alumno...">
</form>

<!-- Botón para agregar -->
<a href="{% url 'crear' %}" class="btn btn-primary mb-3">Agregar Alumno</a>

<!-- Tabla de alumnos -->
<table class="table table-striped table-hover">
  <thead class="table-dark">
    <tr>
      <th>ID</th>
      <th>Nombre</th>
      <th>Apellido</th>
      <th>Carrera</th>
      <th>Fecha ingreso</th>
      <th>Notas</th>
      <th>Acciones</th>
    </tr>
  </thead>
  <tbody>
    {% for alumno in alumnos %}
    <tr>
      <td>{{ alumno.id }}</td>
      <td>{{ alumno.nombre }}</td>
      <td>{{ alumno.apellido }}</td>
      <td>{{ alumno.carrera }}</td>
      <td>{{ alumno.fecha_ingreso|date:"d-m-Y" }}</td>
      <td>{{ alumno.nota1 }} / {{ alumno.nota2 }} / {{ alumno.nota3 }}</td>
      <td>
        <a href="{% url 'detalle' alumno.id %}" class="btn btn-info btn-sm">Ver</a>
        <a href="{% url 'editar' alumno.id %}" class="btn btn-warning btn-sm">Editar</a>
        <a href="{% url 'eliminar' alumno.id %}" class="btn btn-danger btn-sm">Eliminar</a>
      </td>
    </tr>
    {% empty %}
    <tr>
      <td colspan="7" class="text-center text-muted">No hay alumnos registrados</td>
    </tr>
    {% endfor %}
  </tbody>
</table>
{% endblock %}
